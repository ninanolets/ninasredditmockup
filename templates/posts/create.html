{% extends 'base.html' %}

{% block title %} | Create Post {% endblock  %}

{% block content %}


<div class="container"> 
	<div class="mx-auto col-6"><!-- Alerts -->
		<br>{% include 'partials/_alerts.html' %}

		<br><h1>Create your post</h1><br>
		<form method="POST" action="{% url 'create' subreddit %}" enctype="multipart/form-data">
			{% csrf_token %} <!-- security measure - always include -->
		
			<div class="form-group">
				Subreddit name:
				<input type="text" name="subreddit" class="form-control" value="{{ subreddit.slug }}" required>
				{% comment %} style="white-space: pre-wrap; overflow-wrap: break-word;" {% endcomment %}
			</div>
			<div class="form-group">
				Post title:
				<input type="text" name="title" class="form-control" required>
			</div>
			<div class="form-group">
				Content:
				<textarea type="textbox" name="content" class="form-control" required></textarea>
			</div>
			<div class="form-group">
				Image (optional):
				<input type="file" name="photo">
			</div>

			<br><input type="submit" value="Create Post" class="btn btn-danger">
		</form><br><br>

	</div>
</div>
{% endblock %}

{% comment %} <div class="">
			<label for="subreddit">Subreddit name:</label>
			<select class="form-control col-3" name="subreddit">
        			<option selected disabled>Choose a subreddit</option>
				{% for subreddit in subreddits %}
					<option value="{{ subreddit.id }}" 
					{% if subreddit.id == request.subreddit.id %}
						selected="true"
					{% endif %}
					>{{ subreddit }}</option>
				{% endfor %}
			</select>
		</div> {% endcomment %}